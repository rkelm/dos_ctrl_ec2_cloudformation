# To-Do:

# - CF Run Template 
	- define exportes in setup-template: Rolename, SNS Topic, MapBucketName
	- attach Profile
	- Parameter: route 53 subdomain to assign

# - Docker Image Ausführung-> ecr login + configure credentials
#    (I have to use --net=host to enable the access to the metadata service)
# - Parameter: docker container repository + tag to start (default value?)
# - Load real srvctrl docker image

Bugs in docker_image_mc_srv_ctrl: -Rebuild
	- Dockerfile: ms_srv_ctrl -> mc_srv_ctrl
	- build.sh: INSTALL_PATH env var must be passed to docker build
	- build.sh: image_info.txt to roofs/ and not to INSTALL_PATH 

# Test parameter
#   - Parameter: docker version with default 1.13/empty
#   - Parameter: AMI with default value
#   - yum update?
#   - Parameter: SSH Key Name, (Optionally autocreate key?)
#   - Setup cron to install security patches?
#   - Relogin in to aws ecr, after 11 hours or before loading a new image?

# 188892360808.dkr.ecr.eu-central-1.amazonaws.com/mc_srv_ctrl:1.13.2
# mc-host-cf.ps-ev.de.

- Configuration Management
	- Which entities -> which configurations
	- how to pass configurations to entities 
	- dev, test, prod
	- master configuration with code versions? (AMI IDs, etc.)


# - OnDeleteStack: Save Running Map!

- Write Setup instructions
	- Setup ECR
		- setup resource based policy 

# Add IPv6 support.
#   - security group
#   - instance ssh
#   - MC server

OLD To-Do's:
* dos_ctrl_ec2: Kick funktioniert nicht, weil sich das Fenster schließt bevor der Name eingegeben werden kann?

* Make VolumeId optional.
	- Create volume from configured snapshot, while instance starts.
	- Find Volume/Snapshot by Tag (Name + Value)
		- Instantiate volume from snapshot
			- choose snapshot by ID or Tag
			- volume definition overrides snapshop definition
			- ID definition overrides tag definition
        - Optionally delete created volume after termination, if created by snapshot.
	    - Create snapshot for config mcd1 with tags
		   - Zero volume with "zerofree" before taking a snapshot.
				- Put a note about zerofree in readme.md dokumentation.

* ec2_create_snap set optional comment tag by parameter or interactive input.

* Pass environment variables to start.sh.

* Setup cron job with reminder Mail, that server is running, in start.sh?
	- Option in config.

* Give feedback to user when prepare_server.sh/start.sh is done.
* Query and show total number of running EC2 instances in launch and terminate BAT files. To ensure overview of total costs. Create STATUS BAT file to show if instance is running?
* More error checking at instance termination cli calls.
* Show and save host ssh key for later ssh connection validation.

# - CF Template to create S3 Buckets -> move to overviewer project
#	- mc-private/maps  (Keep secrets here?)
#	- mc-render-cache/render-cache
#	- mc-public/map-renders (Better keep map_ids.txt + configuration in separate Bucket?)
		- /resource-packs
		- /index.html
		- /map_ids.txt
		- /robots.txt
